# This CircleCI configuration was generated by Releaser for a specific release. It is not to be used
# for regular CI builds. Be aware that rerunning this build may cause it to repeat release actions
# such as publishing to a package manager. However, it will not perform any Git actions other than
# reading the repository.
version: 2.1
orbs:
  win: circleci/windows@1.0.0
workflows:
  test:
    jobs:
      - release_windows:
          context: org-global
jobs:
  release_windows:
    executor:
      name: win/vs2019
      shell: powershell.exe
    environment:
      LD_RELEASE_CIRCLECI_TYPE: windows
      LD_RELEASE_BRANCH: "2.x"
      LD_RELEASE_CIRCLECI_BRANCH: ""
      LD_RELEASE_DOCS_GITHUB_PAGES: ""
      LD_RELEASE_DOCS_TITLE: ""
      LD_RELEASE_PROJECT: "dotnet-sdk-common"
      LD_RELEASE_PROJECT_TEMPLATE: "dotnet-windows"
      LD_RELEASE_VERSION: "2.11.2"
    steps:
      - checkout
      - run:
          name: "Releaser: build"
          command: .ldrelease/circleci/windows/execute.ps1 -step build .ldrelease/circleci/template/build.ps1
      - run:
          name: "Releaser: build-docs"
          command: .ldrelease/circleci/windows/execute.ps1 -step build-docs .ldrelease/circleci/template/build-docs.ps1
      - run:
          name: "Releaser: publish"
          command: .ldrelease/circleci/windows/execute.ps1 -step publish .ldrelease/circleci/template/publish.ps1
      - store_artifacts:
          path: artifacts
